<!doctype html>
<html lang="en">

<head>

    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>
    <!-- scipt -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="assets/javascript/game.js"></script>

    <title>Word Guess Game</title>

</head>

<body>

    <div class="container">

        <div class="row">

            <div class="col-lg-12 text-center">
                <h1>Hangman</h1>
                <h4>Fruit Edition</h4>
            </div>

        </div>
    </div>


    <div class="container">

        <div class="row">

            <div class="col-lg-6">

                <!-- insert img relevant to game theme -->

            </div>

            <div class="col-lg-6 text-center">

                <!-- declaring global ids -->
                <p>Press Any Key to Get <br>Started!</p> <!--  instructor user how to start the game-->
                <p id="characterGuess"></p>
                <p>Current Word</p>
                <p id="word"> </p>
                <p>Wins</p>
                <p id="winTotal"></p>
                <p>Remaining Guesses</p>
                <p id="guessLeft"></p>
                <p>Letters Already Guessed</p>
                <p id="wrongLetter"></p>

            </div>
        </div>
    </div>

    <script type="text/javascript">

        $(document).ready(function () {

            //declare & initialize variables 

            var remainingGuess = 10;
            var wins = 0;
            var currentWord = "";
            var wordArray = ["APPLE", "GRAPE", "KIWI"];
            var guessThisWord = " ";
            var userGuess = " ";
            var wordString = " ";
            var string1 = "";
            var wrongLetterString = "";

            //variables to hold references to the places in the HTML where we want to display things.
            //HTML will append to these parent selctors

            var currentWordText = document.getElementById("word");

            var userGuessText = document.getElementById("characterGuess");

            var numWinsText = document.getElementById("winTotal");

            var remainingGuessText = document.getElementById("guessLeft");

            var wrongLetterText = document.getElementById("wrongLetter");


            //numGuessText.textContent = remainingGuess;
            guessThisWord = pickRandomWord();

            //pick random word from array
            function pickRandomWord() {

                // var wordString = " ";

                var randomWord = wordArray[Math.floor(Math.random() * wordArray.length)];    // Randomly picks a random word from wordArray

                console.log("computer picked: " + randomWord);

                //loop for each character in string
                for (var i = 0; i < randomWord.length; i++) {

                    var letter = randomWord[i];
                    console.log("randowmWord[i] = " + letter);


                    wordString = wordString + " " + letter;
                    console.log("cancate word " + wordString);

                }
                //currentWordText.textContent =  wordString;

                return randomWord;
            }


            // function runs whenever user presses a key
            document.onkeyup = function startGame(event) {

                console.log("guessWord in keyup function: " + guessThisWord);

                var userInput = event.key;    // Determines which key was pressed.

                console.log("userInput: " + userInput);

                // userInput = upperCase(userInput);
                // console.log("UserInput After: " + userInput);

                
                if(guessThisWord.indexOf(userInput) === -1) {
                    remainingGuess--;
                    remainingGuessText.textContent = remainingGuess;
                    wrongLetterString = userInput + ", " + wrongLetterString;
                    wrongLetterText.textContent = wrongLetterString; 
                }
                else {
                    string1 = string1 + userInput;
                    currentWordText.textContent = string1;
                }
                if(guessThisWord === string1) {
                    wins++;
                    numWinsText.textContent = wins;
                }
                
        
            }










            //function changes userInput to upperCase
            function upperCase(x) {

                var x = x.toUpperCase();


                return x;
                console.log("toUpperCase " + x);

            }

        }) //closes .ready



    </script>

</body>

</html>